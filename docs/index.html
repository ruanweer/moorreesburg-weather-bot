<!DOCTYPE html>
<html lang="af">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ruan Weer Stasie</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:#f3f4f6;
  margin:0;
  padding:20px;
  color:#111827;
}

h1{
  font-size:28px;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

button{
  padding:10px 16px;
  border:none;
  border-radius:12px;
  background:#2563eb;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.info{
  margin-top:10px;
  font-size:14px;
  color:#6b7280;
}

/* GRID 2 BLOKKE OP PHONE */
.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  margin-top:20px;
}

/* 4 BLOKKE OP GROOT SKERM */
@media (min-width:900px){
  .grid{
    grid-template-columns:repeat(4,1fr);
  }
}

.card{
  background:white;
  padding:18px;
  border-radius:18px;
  box-shadow:0 4px 12px rgba(0,0,0,0.05);
  text-align:center;
}

.card h3{
  margin:5px 0;
  font-size:14px;
  color:#6b7280;
}

.card p{
  margin:5px 0;
  font-size:22px;
  font-weight:bold;
}

/* 7 DAE */
.week-toggle{
  margin-top:25px;
  cursor:pointer;
  font-weight:bold;
  font-size:18px;
}

.week-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  margin-top:15px;
}

@media (min-width:900px){
  .week-grid{
    grid-template-columns:repeat(3,1fr);
  }
}

.hidden{
  display:none;
}
</style>
</head>

<body>

<div class="header">
  <h1>ğŸŒ¤ Ruan Weer Stasie</h1>
</div>

<div class="info">
  Laas opgedateer: <span id="updated"></span><br>
  Plek: Moorreesburg
</div>

<div class="grid">
  <div class="card">
    <h3>ğŸŒ… Son op</h3>
    <p id="sunrise"></p>
  </div>

  <div class="card">
    <h3>ğŸŒ‡ Son sak</h3>
    <p id="sunset"></p>
  </div>

  <div class="card">
    <h3>ğŸŒ¡ Minimum</h3>
    <p id="min"></p>
  </div>

  <div class="card">
    <h3>ğŸŒ¡ Maksimum</h3>
    <p id="max"></p>
  </div>

  <div class="card">
    <h3>ğŸŒ§ ReÃ«n kans</h3>
    <p id="rain"></p>
  </div>

  <div class="card">
    <h3>â± ReÃ«n volgende 30min</h3>
    <p id="rain30"></p>
  </div>

  <div class="card">
    <h3>ğŸ’¨ Wind</h3>
    <p id="wind"></p>
  </div>

  <div class="card">
    <h3>â˜€ UV Index</h3>
    <p id="uv"></p>
  </div>
</div>

<button onclick="loadData()" style="margin-top:20px;">Refresh</button>

<div class="week-toggle" onclick="toggleWeek()">
  â–¶ 7 Dae Voorspelling
</div>

<div id="weekSection" class="week-grid hidden"></div>

<script>

async function loadData(){
  const res = await fetch("data.json");
  const data = await res.json();

  document.getElementById("updated").innerText = data.updated_at;

  const today = data.week[0];

  document.getElementById("sunrise").innerText = today.sunrise;
  document.getElementById("sunset").innerText = today.sunset;
  document.getElementById("min").innerText = today.min + "Â°C";
  document.getElementById("max").innerText = today.max + "Â°C";
  document.getElementById("rain").innerText = today.rain_prob + "%";
  document.getElementById("rain30").innerText = data.next30_rain_prob + "%";
  document.getElementById("wind").innerText = today.wind_kmh + " km/h " + today.wind_dir;
  document.getElementById("uv").innerText = today.uv;

  // 7 dae
  const weekDiv = document.getElementById("weekSection");
  weekDiv.innerHTML = "";

  data.week.forEach(day=>{
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML = `
      <h3>${day.date}</h3>
      <p>${day.min}Â° / ${day.max}Â°</p>
      <p>ğŸŒ§ ${day.rain_prob}%</p>
      <p>ğŸ’¨ ${day.wind_kmh} km/h ${day.wind_dir}</p>
      <p>â˜€ UV ${day.uv}</p>
    `;
    weekDiv.appendChild(card);
  });
}

function toggleWeek(){
  const section = document.getElementById("weekSection");
  section.classList.toggle("hidden");
}

loadData();

/* AUTO REFRESH ELKE 10 MIN */
setInterval(loadData, 600000);

</script>

</body>
</html>
